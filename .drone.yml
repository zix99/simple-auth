kind: pipeline
name: default

steps:
  - name: Install
    image: node:12-slim
    commands:
      - npm ci
  - name: Lint
    image: node:12-slim
    commands:
      - npm run lint
  - name: Build
    image: node:12-slim
    commands:
      - npm run build
  - name: Server
    image: golang:1.14
    commands:
      - go vet $(go list ./... | grep -v "vendor")
      - go build -race simple-auth/cmd/server
